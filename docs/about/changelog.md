# 更新日志

## 版本说明

MeterSphere 版本号命名规则为：v大版本.功能版本.Bug修复版本

!!! info "例如"
    v1.0.1 是 v1.0.0 之后的Bug修复版本
    v1.1.0 是 v1.0.0 之后的功能版本

MeterSphere 按年发布 LTS（Long Term Support）版本。

- v1.10-lts：发布时间为 2021 年 5 月 27 日，目前已经停止维护；
- v1.20-lts：发布时间为 2022 年 4 月 27 日，目前仅进行必要的安全类 Bug 修复和严重 Bug 修复；
- v2.10-lts：发布时间为 2023 年 5 月 25 日，每两周发布小版本，持续进行 Bug 修复和部分功能的有限优化。

## v2.9.1

------

2023年5月10日

!!! info "功能优化"
- refactor(接口测试): 优化执行过程资源池校验及结果处理
- refactor(接口测试): 优化批量保存环境，编辑页面显示环境
- refactor(测试跟踪): 缺陷列表平台状态字段宽度显示优化
- refactor(测试跟踪): 删除测试计划批量关联功能用例，无用代码
- refactor(测试跟踪): 更新用例需求时，调用插件预留的需求更新方法
- refactor(测试跟踪): 功能用例自定义字段表单顺序跟模板配置保持一致
- refactor(测试跟踪): 测试计划关联功能用例页面，打开时清除上次排序
- refactor(测试跟踪): 用例步骤支持插入步骤
- refactor(测试跟踪): 批量插入数据过多导致OOM优化，新增批量utils
- refactor(缺陷管理): 缺陷列表平台状态列支持筛选和排序
- refactor(系统设置): 禁用本地调试后给项目初始化一个默认资源池

!!! info "问题修复"
- fix(测试跟踪): firefox浏览器查看功能用例页面显示异常
- fix(测试跟踪): 从1.20升级到2.8测试计划用例评论不显示
- fix(测试跟踪): 首页-我创建的评审显示有误
- fix(测试跟踪): 关联UI及场景用例弹窗左侧模块树筛选问题
- fix(测试跟踪): 测试计划-功能用例列表排序有误
- fix(项目管理): 修复Git文件引入其他分支文件时提示文件已存在的bug，并在表格展示git文件时增加分支显示
- fix(项目设置): 修复git文件添加以及拉取时commitId并不是文件本身最后一次commitId的问题
- fix(接口测试): TCPMock后置脚本支持获取tcp请求参数
- fix(接口测试): 修复V1版本旧数据中前后置SQL组件取不到环境的问题
- fix(接口测试): 修复jmeter不填写路径导出的jmx文件导入到ms内，添加路径无法测试的缺陷
- fix(接口测试): 修复jsonschema选择number类型数据精度缺失的缺陷
- fix(接口测试): 修复query参数是json数据时，选择编码不生效的缺陷
- fix(接口测试): 修复sql自定义请求没有名字，生成报告为空的缺陷
- fix(接口测试): 修复swagger导入有大量error日志输出的缺陷

!!! warning "注意"
    自v2.4 版本缺陷对接实现了插件化，可根据自身需求开发对应插件
    目前已实现 禅道、Jira 平台的插件化，原先使用 禅道、Jira 的用户，需要下载下插件，并在系统设置-插件管理上传插件
    使用方式跟原来一致，具体参考插件项目
    https://github.com/metersphere/metersphere-platform-plugin


## v2.9.0

------

2023年4月27日

!!! info "功能优化"
- refactor(测试跟踪): 批量导出功能用例性能优化
- refactor(测试跟踪): 测试计划关联用例性能优化
- refactor(测试跟踪): 用例评审列表增加标签列
- refactor(测试跟踪): 高级搜索支持输入多个标签搜索
- refactor(接口测试): 接口导入逻辑优化
- refactor(接口测试): 接口CASE支持通过路径快捷搜索
- refactor(接口测试): 接口场景列表展示定时任务列
- refactor(接口测试): 接口自动化文档结构断言增加复选框操作
- refactor(UI 测试): UI场景列表展示定时任务列
- refactor(通用功能): 首次登录系统加载耗时优化

!!! info "问题修复"
- fix(测试跟踪): 修复测试计划失败重试时导致计划中接口脚本的循环没有被执行完全的问题（GitHub #23509）
- fix(测试跟踪): 修复测试计划执行时自定义字段文本框输入{}会显示为[object Object]的问题（GitHub #23515）
- fix(测试跟踪): 修复从1.20LTS版本升级到最新版本用例执行上传的截图和评论查询不到的问题（GitHub #23500）
- fix(接口测试): 修复JMeter不填写路径导出的jmx文件导入到ms内添加路径无法测试的问题（GitHub #23416）
- fix(接口测试): 修复CASE 执行完请求后，手动修改预览响应体为 json，再次执行预览格式有误的问题（GitHub #23350）
- fix(接口测试): 修复接口用例执行完成，通过率数据不会自动更新的问题（GitHub #23386）

!!! warning "注意"
    自v2.4 版本缺陷对接实现了插件化，可根据自身需求开发对应插件
    目前已实现 禅道、Jira 平台的插件化，原先使用 禅道、Jira 的用户，需要下载下插件，并在系统设置-插件管理上传插件
    使用方式跟原来一致，具体参考插件项目
    https://github.com/metersphere/metersphere-platform-plugin


## v2.8.1

------

2023年4月6日

!!! info "功能优化"
- refactor(接口测试): 优化http变量取ip配置的逻辑
- refactor(接口测试): 优化导出API方法
- refactor(接口测试): 优化收集JMeter日志的级别
- refactor(接口测试): 优化前后置SQL脚本选择数据源的逻辑
- refactor(接口测试): 优化接口对应的mock期望
- refactor(性能测试): 增加压力参数校验
- refactor(项目设置): 代码片段执行日志隔离处理
- refactor(测试跟踪): 功能用例列表页，记住模块树的宽度
- refactor(系统设置): 刷新页面时查询数据库中最新的用户信息

!!! info "问题修复"
- fix(工作台): 修复没有项目权限的用户进入工作台会报错的问题
- fix(接口测试): 修复jsonpath提取显示科学计数法的缺陷
- fix(接口测试): 修复等待控制器时间过长导致WebSocket连接中断问题
- fix(系统设置): 修复jdk17连接SQL server数据库失败的缺陷
- fix(测试计划): 修复报告中UI用例未执行tab页未展示未执行数据
- fix(测试计划): 修复UI测试用例测试结果展示
- fix(项目设置): 修复环境的前后置脚本下拉框的值与接口定义不一致的缺陷
- fix(项目设置): 修复环境配置处引用该变量进行保存时，发现会把变量名的大写变成小写的缺陷
- fix(测试跟踪): 修复覆盖用例中未统计关联的UI用例
- fix(测试跟踪): 修复测试计划关联功能用例顺序
- fix(测试跟踪): 修复关联缺陷后列表显示错乱问题
- fix(测试跟踪): 修复脑图保存后，模块树没有刷新
- fix(测试跟踪): 修复进入回收站的用例编辑提示问题
- fix(性能测试): 修复添加了自定义参数后不能下载zip的问题

!!! warning "注意"
    自v2.4 版本缺陷对接实现了插件化，可根据自身需求开发对应插件
    目前已实现 禅道、Jira 平台的插件化，原先使用 禅道、Jira 的用户，需要下载下插件，并在系统设置-插件管理上传插件
    使用方式跟原来一致，具体参考插件项目
    https://github.com/metersphere/metersphere-platform-plugin


## v2.8.0

------

2023年3月23日

!!! info "功能优化"
- 测试跟踪：测试计划报告性能优化；
- 接口测试：文件存在重复接口的导入优化；
- 接口测试：误报机制与失败重试机制优化；
- 通用功能：系统左侧模块树加载效率优化；

!!! info "问题修复"
- fix（测试跟踪）：修复在测试计划中选择环境时无法选择多个项目环境，导致执行测试计划时一直running的问题（GitHub #22858）；
- fix（测试跟踪）：修复测试计划执行报告后在线看单步结果是成功的，但是导出就变成了失败的问题（GitHub #22067）；
- fix（测试跟踪）：修复Azure Devops 平台同步缺陷报数组越界的问题（GitHub #22943）；
- fix（接口测试）：修复运行环境Http域名配置包含端口号会导致接口请求URL中多了"[ ]"的问题（GitHub #22857）；
- fix（接口测试）：修复TCP协议的接口定义未按照选取的编码格式动态生成xml表头的问题（GitHub #22540）；
- fix（接口测试）：修复接口定义设置了swagger（有添加请求参数）定时任务，不会自动触发的问题（GitHub #22044）；
- fix（UI 测试）：修复元素库&UI自动化列表设置表头后，造成批量操作的点击按钮没有的问题（GitHub #22914）；
- fix（UI 测试）：修复场景引用后名称显示不正确的问题（GitHub #22914）；
- fix（UI 测试）：修复本地调试时，点击“停止”按钮，浏览器没有的问题（GitHub #22557）；

!!! warning "注意"
    自v2.4 版本缺陷对接实现了插件化，可根据自身需求开发对应插件
    目前已实现 禅道、Jira 平台的插件化，原先使用 禅道、Jira 的用户，需要下载下插件，并在系统设置-插件管理上传插件
    使用方式跟原来一致，具体参考插件项目
    https://github.com/metersphere/metersphere-platform-plugin

## v2.7.1

------

2023年3月9日

!!! info "功能优化"
- refactor(测试跟踪): 用例列表url中添加当前选中的模块ID参数
- refactor(测试跟踪): 功能用例保存功能优化
- refactor(测试跟踪): 用例编辑名称显示优化 

!!! info "问题修复"
- fix(工作台): 修复工作台功能用例跳转问题
- fix(个人信息): 修复APIkey报错404的缺陷
- fix(接口测试): 修复swagger导出问题
- fix(接口测试): 修复场景步骤另存用例问题
- fix(测试跟踪): 左侧模块树拖动问题
- fix(测试跟踪): 功能用例编辑自定义ID校验的问题
- fix(测试跟踪): 用例列表点击模块，url没有加上模块ID
- fix(测试跟踪): 功能用例编辑复制新增TAB页添加标题
- fix(测试跟踪): 功能用例保存按钮显示问题
- fix(测试跟踪): 创建用例时用例名称不显示问题
- fix(测试跟踪): 功能用例编辑页富文本框无法回车
- fix(测试跟踪): 测试用例详情页以及测试计划评论，没有进行Markdown渲染
- fix(测试跟踪): 用例评审人中有已经删除的用户，页面无法加载
- fix(测试跟踪): 用例评审状态修复及去掉功能用例编辑返回按钮
- fix(测试跟踪): 支持实时检索的第三方平台缺陷字段显示的是选项值，不是选项名称

!!! warning "注意"
    自v2.4 版本缺陷对接实现了插件化，可根据自身需求开发对应插件
    目前已实现 禅道、Jira 平台的插件化，原先使用 禅道、Jira 的用户，需要下载下插件，并在系统设置-插件管理上传插件
    使用方式跟原来一致，具体参考插件项目
    https://github.com/metersphere/metersphere-platform-plugin

## v2.7.0

------

2023年2月23日

!!! info "新增功能"
-  测试跟踪模块UX交互升级
-  用例评审支持多人评审
-  运行配置支持失败重试（X-Pack功能开放至开源版）
-  接口测试支持一键失败重跑（X-Pack功能开放至开源版）
-  文件管理支持对接第三方仓库（X-Pack功能开放至开源版）
-  一级功能模块启用/禁用（X-Pack功能开放至开源版）

!!! info "功能优化"
-  测试跟踪：支持添加功能用例依赖关系并生成拓扑图（X-Pack功能开放至开源版）；
-  接口测试：查看引用关系列表新增“复制”关系的数据；
-  接口测试：支持添加接口依赖关系并生成拓扑图（X-Pack功能开放至开源版）；
-  接口测试：支持自动生成接口用例数据（X-Pack功能开放至开源版）；
-  接口测试：支持配置禁用本地执行的安全策略（X-Pack功能开放至开源版）；
-  通用功能：支持配置租户使用配额（X-Pack功能开放至开源版）；
-  通用功能：支持发送项目定时报告（X-Pack功能开放至开源版）。

!!! info "问题修复"
-  fix（安全漏洞）：修复文件下载访问权限校验控制不当的缺陷（CVE-2023-25573及CVE-2023-25814）；
-  fix（接口测试）：修复IDEA插件导出部分接口时报错的问题（GitHub #21213）；
-  fix（接口测试）：修复在接口定义模块编辑CASE时，修改后置操作中的脚本不生效的问题（GitHub #21425）；
-  fix（接口测试）：修复使用环境组执行场景用例时，不能保存数据到另外一个项目的环境变量问题（GitHub #21345）；
-  fix（接口测试）：修复接口保存提示对话框有文字错误的问题（GitHub #21367）；
-  fix（接口测试）：修复接口报告导出PDF文件含有空白页的问题（GitHub #21515）；
-  fix（接口测试）：修复在查看测试计划报告中的断言失败脚本时，弹出的对话框显示层级错误的问题（GitHub #21266）；
-  fix（系统设置）：修复升级到v2.4.1后/project/list查询接口不支持参数过滤的问题（GitHub #20961）。

!!! warning "注意"
    自v2.4 版本缺陷对接实现了插件化，可根据自身需求开发对应插件
    目前已实现 禅道、Jira 平台的插件化，原先使用 禅道、Jira 的用户，需要下载下插件，并在系统设置-插件管理上传插件
    使用方式跟原来一致，具体参考插件项目
    https://github.com/metersphere/metersphere-platform-plugin

## v2.6.1

------

2023年2月7日

!!! info "功能优化"
-  refactor(系统设置): 修改查询模版的接口调用
-  refactor(接口定义): 优化获取当前用户名称的方法
-  refactor(接口测试): log优化去除不必要干扰日志，增加jvm信息
-  refactor(接口测试): 历史数据兼容，默认不开启变量规则
-  refactor(接口测试): 场景变量当所有优先规则不选时，默认过程变量优先并兼容历史数据

!!! info "问题修复"
-  fix(工作台): 工作台我的待办展示了已关闭的缺陷
-  fix(工作台): 修复接口定义以及接口用例在切换待完成时过滤条件不清空问题
-  fix(接口定义): 修复case添加后置脚本，多次保存，内容还是上一次的缺陷
-  fix(接口定义): 修复推荐jsonpath断言索引超过10无法生成预期的缺陷
-  fix(接口定义): 修复定时任务选择cron表达式无法选择年的缺陷
-  fix(接口定义): 修复环境变量显示多选的缺陷
-  fix(接口定义): 修复场景跨项目执行无法保存别的项目的环境变量的缺陷
-  fix(接口定义): 修复执行循环控制器下面的步骤没有结果状态的缺陷
-  fix(接口测试): 修复导入部分postman文件报错问题
-  fix(接口测试): 修复文字统一问题
-  fix(接口测试): 修复部分接口导出swagger文件报错问题
-  fix(接口测试): 修复导入页面保留swagger上次配置参数记录问题
-  fix(接口测试): 改进接口测试首页的接口用例统计方法
-  fix(接口测试): 修复禁用本地执行后单步调试提示错误问题
-  fix(性能测试): 修复执行过程包括CSV，部分参数没有初始化的问题
-  fix(系统设置): 查询项目接口支持根据Jira和Zentao的关联ID查询
-  fix(测试跟踪): 修复测试计划报告查看case断言脚本不显示的缺陷
-  fix(测试跟踪): 用例关联多层级需求显示为空
-  fix(测试跟踪): 脑图复制粘贴后数据展示错误
-  fix(测试跟踪): 用例列表导入多选输入字段时, 解析值有误
-  fix(测试跟踪): 英文环境下，用例导入责任人失败
-  fix(测试跟踪): 英文语境下，用例导入用例等级失败
-  fix(测试跟踪): 修复测试计划用例大批量执行超时问题
-  fix(测试跟踪): 测试计划脑图更新用例后执行人没有更新
-  fix(测试跟踪): 功能用例导入多值输入后，列表不展示数据
-  fix(测试跟踪): 脑图提示错误信息后，再次保存会导致用例丢失
-  fix(测试跟踪): 修复取消记住跨页选择的记录前一页的数据不能删除问题
-  fix(测试跟踪): 修复导出测试计划报告用例资源池环境显示不正确的缺陷
-  fix(测试跟踪): 修复测试计划中批量执行接口用例没有按照表格顺序执行的问题
-  fix(测试计划): 修复测试计划发送通知时未执行状态没有统计数的问题
-  fix(通用功能): 全选框下拉列表，点击选择所有数据或者可见数据，不出现勾选效果

!!! warning "注意"
    自v2.4 版本缺陷对接实现了插件化，可根据自身需求开发对应插件
    目前已实现 禅道、Jira 平台的插件化，原先使用 禅道、Jira 的用户，需要下载下插件，并在系统设置-插件管理上传插件
    使用方式跟原来一致，具体参考插件项目
    https://github.com/metersphere/metersphere-platform-plugin

## v2.6.0

------

2023年1月12日

!!! info "新增功能"
-  UI自动化测试模块与环境管理全面打通（X-Pack）
-  测试计划关联用例支持记住跨页选择的记录
-  接口定义列表支持批量复制指定版本的CASE和MOCK数据（X-Pack）
-  变更Jenkins Job运行结果为测试计划用例运行结果

!!! info "功能优化"
-  测试跟踪：调整测试计划实际结果字数限制（将300字数调整为500）
-  测试跟踪：定时任务执行的测试计划生成报告后支持编辑报告总结
-  接口测试：MOCK的后置脚本支持获取不同格式的请求数据
-  接口测试：运行环境列表支持模糊搜索
-  接口测试：单步调试用例或场景步骤时响应内容自动展开
-  接口测试：接口TEST支持保留最近一次执行记录
-  通用功能：标签字数过多展示优化
-  通用功能：接口场景定时任务通知增加配置测试报告免登录参数（X-Pack）

!!! info "问题修复"
-  fix(测试跟踪): 修复通过批量修改的方式修改指定自定义字段会导致全部字段被修改的问题（GitHub #21075）；
-  fix(接口测试): 修复API自动化首页统计信息在切换table页后相关统计信息不展示的问题（GitHub #21120）；
-  fix(接口测试): 修复使用接口自动化转性能测试执行时获取不到运行环境的环境变量的问题（GitHub #21150）；
-  fix(接口测试): 修复接口自动化场景中单独执行用例不能调用环境变量的问题（GitHub #21116）；
-  fix(系统设置): 修复显示设置修改系统名称不生效的问题（GitHub #21247）；

!!! warning "注意"
    自v2.4 版本缺陷对接实现了插件化，可根据自身需求开发对应插件
    目前已实现 禅道、Jira 平台的插件化，原先使用 禅道、Jira 的用户，需要下载下插件，并在系统设置-插件管理上传插件
    使用方式跟原来一致，具体参考插件项目
    https://github.com/metersphere/metersphere-platform-plugin

## v2.5.1

------

2022年12月30日

!!! info "功能优化"
- refactor(接口测试): 优化模块树多次保存
- refactor(测试跟踪): 禁止批量删除运行中的测试计划

!!! info "问题修复"
- fix(安全漏洞): 修复未检查文件名导致文件可能被上传到任意路径的问题 (CVE-2022-46178)
- fix(工作台): 工作台首页缺陷统计有误
- fix(接口测试): 修复Json数组无法使用mock数据的问题
- fix(接口测试): 修复json格式的请求数据冒号被替换成等号的缺陷
- fix(接口测试): 修复swagger3.0文件导入对content的example没有处理问题
- fix(接口测试): 接口参数添加mock数据时清空历史函数
- fix(接口测试): 统一接口测试转性能测试时storage带的参数
- fix(接口测试): 修复重复创建未规划接口的缺陷
- fix(接口测试): 修复接口测试用例和场景转性能测试时会偶发重复jmx的问题
- fix(接口测试): 修复点击场景报告跳转链接没有跳转到对应项目的缺陷
- fix(测试跟踪): 测试计划-场景/性能测试报告 不显示运行模式和资源池
- fix(测试跟踪): 测试计划功能用例不展示自定义字段
- fix(测试跟踪): 功能用例导出多值输入自定义字段为空
- fix(测试跟踪): 测试计划保存报告内容时不赋开始时间和结束时间
- fix(性能测试): 修复查询报告时无法查出已删除人执行的报告

!!! warning "注意"
    自v2.4 版本缺陷对接实现了插件化，可根据自身需求开发对应插件
    目前已实现 禅道、Jira 平台的插件化，原先使用 禅道、Jira 的用户，需要下载下插件，并在系统设置-插件管理上传插件
    使用方式跟原来一致，具体参考插件项目
    https://github.com/metersphere/metersphere-platform-plugin

## v2.5.0

------

2022年12月27日

!!! info "新增功能"
- 工作台UX交互升级
- 接口测试首页增加“版本”统计口径（X-Pack）
- 接口定义请求参数交互优化
- 测试报告支持展示运行模式以及运行的资源池
- 新增超级管理员用户组

!!! info "功能优化"
- 测试跟踪：服务集成对接第三方平台实现插件化（目前支持禅道、Jira）；
- 测试跟踪：测试跟踪关联测试用例支持关联UI测试用例；
- 接口测试：MQTT插件取消连接名必填；
- 接口测试：场景嵌套引用的变量取值优化；
- 接口测试：支持配置自动重定向；
- 接口测试：场景变量-计数器支持参数化；
- 接口测试：json结构化的时候会提供null类型来支持传null值；
- 接口测试：接口测试前后置脚本支持beanshell处理器；
- 接口测试：接口导入逻辑优化（支持版本对比）；
- UI测试：UI测试第一步支持逻辑控制器（X-Pack）；
- UI测试：UI测试详情页批量编辑增加断言配置的选项（X-Pack）；
- 通用功能：消息通知增加定时清理机制；
- 通用功能：Jenkins生成的报告链接支持配置免登录（X-Pack）。

!!! info "问题修复"
- fix（安全漏洞）：修复IssueProxyResourceService::getMdImageByUrl 中的服务器端请求伪造 (CVE-2022-23544)
- fix（安全漏洞）：修复ApiTestCaseService::deleteBodyFiles 中的路径注入 (CVE-2022-23512)
- fix（测试跟踪）：修复功能用例列表，全选再将部分用例取消勾选，点击批量删除后仍会删除所有用例的问题（GitHub #20553）；
- fix（接口测试）：修复接口编辑，开启同步case或者变更通知保存后报错的问题（GitHub #20376）；
- fix（接口测试）：修复场景测试报告导出的PDF文件查看时比较模糊的问题（GitHub #20738）；
- fix（接口测试）：修复环境配置里面的请求头Cookie和单个接口里面请求头冲突的问题（GitHub #20467）；
- fix（UI测试）：修复UI进行div元素拖拽时自动全屏，部分元素定位路径无法识别的问题（GitHub #20447）；
- fix（性能测试）：修复性能测试设置完资源池中压力机的最大并发数，压测执行时没限制住单个压力机的最大并发数的问题（GitHub - #20103）；
- fix（通用功能）：修复任务中心接口请求时间长，导致任务中心访问时空白页经常出现的问题（GitHub #20425）。

!!! warning "注意"
    自v2.4 版本缺陷对接实现了插件化，可根据自身需求开发对应插件
    目前已实现 禅道、Jira 平台的插件化，原先使用 禅道、Jira 的用户，需要下载下插件，并在系统设置-插件管理上传插件
    使用方式跟原来一致，具体参考插件项目
    https://github.com/metersphere/metersphere-platform-plugin

## v2.4.1

------

2022年12月8日

!!! info "功能优化"
- feat(接口测试): HTTP部分参数列支持可配置
- refactor(接口设置): 优化国际化显示
- refactor(测试跟踪): 优化大量用例执行存储效率
- refactor(测试跟踪): 缺陷列表页面渲染性能优化
- refactor(接口测试): 场景步骤解析优化统一解析方式
- refactor(接口测试): 兼容历史执行结果处理日志中出现异常问题#20236
- style(接口测试): 接口编辑页面页头部分样式优化

!!! info "问题修复"
- fix(UI自动化): 关联一个ui场景用例，没有执行，测试计划的测试进度变成100%了
- fix(接口测试): 修复case编辑时日志中出现异常信息
- fix(接口测试): 解决har文件导入报错问题
- fix(接口测试): 修复swagger导入失败问题
- fix(接口测试): 修复引用的case仍可以编辑参数的缺陷
- fix(接口测试): 嵌套事务拆分,解决并发过程可能产生死锁的方法
- fix(接口测试): 修复接口测试部分tcp响应体内依然包含url等非tcp信息的问题
- fix(接口测试): 修复场景删除复制的case，别的步骤的断言和前后置操作也被删除的缺陷
- fix(接口测试): 修复接口定义执行时string取枚举值的缺陷
- fix(接口测试): 修复历史场景的复制的接口无法另存为case的缺陷
- fix(接口测试): 修复任务中心条件切换不刷新统计状态问题
- fix(接口测试): 修复场景报告名称带特殊字符导出失败的缺陷
- fix(接口测试): 修复同名数据源执行过程产生大量错误日志问题
- fix(接口测试): 修复场景引用多个事务控制器状态显示错误的缺陷
- fix(接口测试): 修复接口文档响应体部分字段没有格式化解析的问题
- fix(接口测试): 修复接口测试文档样式修改中出现的部分数据不显示的问题
- fix(接口测试): 接口测试部分参数样式改为表格，并针对一系列问题汇总进行优化
- fix(接口测试): 修复场景中批量删除复制的case步骤时，前后置操作，断言也被删除的缺陷
- fix(接口测试): 修复用例附件被直接删除漏洞
- fix(接口测试): 设置导入接口或用例默认启用状态
- fix(系统设置): 修复无xpack权限创建项目失败问题
- fix(系统设置): 操作日志对象中添加用户组和权限选项
- fix(测试跟踪): Jira同步全量缺陷失败
- fix(测试跟踪): 测试计划-关联ui-执行计划-测试报告的id为空
- fix(测试跟踪): 缺陷管理导出EXCEL单元格TEXT长度大于POI限制的单元格长度时错误
- fix(测试跟踪): 测试跟踪首页TABLE列对齐
- fix(测试跟踪): 批量关联需求失效
- fix(测试跟踪): 修复缺陷管理关联Azure自定义字段导入报错
- fix(测试跟踪): 禁用本地执行后只有UI测试不做校验
- fix(测试跟踪): 测试计划报告导出报错
- fix(测试跟踪): 缺陷导出系统状态字段有误
- fix(测试跟踪): 功能用例的关联需求显示有误
- fix(测试跟踪): 禅道同步缺陷后图片无法展示
- fix(测试跟踪): 缺陷管理自定义字段筛选无效
- fix(测试跟踪): 依赖关系图显示了下层的富文本框
- fix(测试跟踪): 切换测试计划时搜索框内容未重置
- fix(测试跟踪): 测试计划关联缺陷，用例列表不可见
- fix(测试跟踪): 数据太多时，测试计划报告列表内存溢出
- fix(测试跟踪): 修复测试计划用例列表缓存搜索框内容问题
- fix(测试跟踪): 禅道缺陷上传图片链接后同步，图片不显示
- fix(测试跟踪): 测试跟踪首页空数据样式及缺陷同步时间问题
- fix(测试跟踪): 测试计划执行判断没有执行资源则不调用该接口
- fix(性能测试): 修复引用场景自动化翻页保留选项问题
- fix(性能测试): 修复固定节点或自定义分配用户数时最大并发数不能限制的问题
- fix(项目设置): 修复环境设置历史数据不能编辑备注的缺陷
- fix(通用功能): 修复定时任务输入错误表达式反解析页面崩溃问题

!!! warning "注意"
    自v2.4 版本缺陷对接实现了插件化，可根据自身需求开发对应插件
    目前已实现 Jira 平台的插件化，原先使用 Jira 的用户，需要下载下插件，并在系统设置-插件管理上传插件
    使用方式跟原来一致，具体参考插件项目
    https://github.com/metersphere/metersphere-platform-plugin

## v2.4.0

------

2022年11月24日

!!! info "新增功能"
- 模块首页 UX 交互升级
- 缺陷管理支持 Excel 导入/导出缺陷
- 测试计划支持区分环境同步运行
- 接口测试支持禁用本地执行 （X-Pack 增强包内）
- UI 自定义指令支持参数化配置（X-Pack 增强包内）
- 单点登录新增 OAuth 2.0 协议（X-Pack 增强包内）

!!! info "功能优化"
-  测试跟踪：服务集成对接第三方平台插件化（用户可以自行对接第三方项目管理平台）
-  测试跟踪：测试计划用例列表高级搜索增加用例状态、关联需求搜索
-  测试跟踪：测试计划支持批量删除功能
-  接口测试：场景用例中复制的 API 步骤支持另存为单接口用例
-  接口测试：接口 CASE 引用关系查看优化
-  接口测试：控制器内引用的场景或用例支持启用/禁用操作
-  UI测试：UI 测试支持关联“文件管理”中的文件（X-Pack）
-  UI测试：UI 测试详情页支持批量编辑操作（X-Pack）
-  UI测试：UI 测试支持配置是否忽略证书（X-Pack）
-  UI测试：UI 测试支持获取页面元素的CSS属性（X-Pack）
-  性能测试：性能测试列表增加表头字段排序
-  性能测试：性能测试 Kubernetes 资源池支持自定义 Job 模板（X-Pack）
-  性能测试：实时报告计算优化
-  通用功能：Jenkins 插件支持参数化
-  通用功能：Jenkins 插件支持选择UI测试

!!! info "问题修复"
-  fix(测试跟踪): 修复在测试计划设置失败重试，但没有重新执行的问题（GitHub #19228）
-  fix(测试跟踪): 修复测试计划用例执行的时候不能切换步骤描述的问题（GitHub #19851）
-  fix(测试跟踪): 修复测试用例自定义 ID 后，在用例评审列表还显示为系统 ID 的问题（GitHub #19730）
-  fix(接口测试): 修复多项目同名环境变量存在覆盖的问题（GitHub #19931）
-  fix(UI测试): 修复 UI 场景转为指令时，对应的 UI 场景变量没有同步过去，需要手动重新添加的问题（GitHub #19424）
-  fix(性能测试): 修复保存性能测试提示错误的问题（GitHub #19734）
-  fix(项目设置): 修复消息通知不能通知缺陷处理人的问题（GitHub #19855）
-  fix(项目设置): 修复 Minio 挂掉后，页面还能上传文件的问题（GitHub #19860）

!!! warning "注意"
    自v2.4 版本缺陷对接实现了插件化，可根据自身需求开发对应插件
    目前已实现 Jira 平台的插件化，原先使用 Jira 的用户，需要下载下插件，并在系统设置-插件管理上传插件
    使用方式跟原来一致，具体参考插件项目
    https://github.com/metersphere/metersphere-platform-plugin

## v2.3.1

------

2022年11月10日

!!! info "功能优化"
-  refactor(工作台): 更改我的待办测试计划列表筛选条件
-  refactor(接口测试): 统一任务中心Jenkins调用状态
-  refactor(测试跟踪): 脑图缺陷国际化
-  refactor(测试跟踪): 测试计划代码优化
-  refactor(测试跟踪): 增加用例评审名称长度限制
-  refactor(测试跟踪): 测试计划功能用例跨项目跳转优化
-  refactor(测试跟踪): 没有接口测试权限的关联表不可以点击跳转
-  refactor(任务中心): 优化任务中心按照任务类型加载
-  refactor(任务中心): 任务统计优化只统计已经开始执

!!! info "问题修复"
-  fix(工作台): 修复执行失败就进入工作台待更新列表问题
-  fix(UI自动化): jenkins执行-测试报告列表触发方式缺少API调用
-  fix(UI自动化): 修复UI操作日志不显示问题
-  fix(UI自动化): 修复设置模块操作日志UI映射问题
-  fix(UI自动化): 修复开源版任务中心报错问题
-  fix(测试跟踪): 复制测试计划没有操作日志的问题
-  fix(测试跟踪): 测试计划报告缺陷状态统计不准确
-  fix(测试跟踪): 首页遗留缺陷统计总数和占比统计
-  fix(测试跟踪): 公共用例库版本字段不支持筛选问题
-  fix(接口测试): 修复查看接口文档页面报错的缺陷
-  fix(接口测试): 修复执行场景，通过率不更新的缺陷
-  fix(接口测试): 修复环境配置全局认证不生效的缺陷
-  fix(接口测试): 修复引用场景步骤能添加同级步骤问题
-  fix(接口定义): 修复tcp执行没有提示选择环境的缺陷
-  fix(接口定义): 修复自定义请求执行变量值缺失的缺陷
-  fix(接口定义): 修复接口定义新值和旧值显示一样的缺陷
-  fix(任务中心): 修复ui测试任务没有分页问题
-  fix(系统设置): 更换系统LOGO后不生效
-  fix(系统设置): 操作日志操作对象环境设置更改名称为环境管理
-  fix(系统设置): 操作日志中操作对象缺少工作空间的环境管理模块
-  fix(项目设置): 修复消息通知接口定义API更新事件一些模版字段获取不到值问题
-  fix(项目设置): 编辑模板自定义字段默认值,文本过大无法编辑
-  fix(性能测试): 修复显示报告时测试详情空白的问题
-  fix(性能测试): 修复增加了自定义监控时不能正常显示监控的问题
-  fix(性能测试): 修复编辑测试时删除文件后不能继续导入同名文件的问题
-  fix(报告统计): 修复关闭定时任务提示框提示错误的问题
-  fix(报告统计): 测试用例趋势报表查看项目不再以工作空间为条件

## v2.3.0

------

2022年10月27日

!!! info "新增功能"
-  接口测试：增加 XML 文本自动格式化功能
-  接口测试：MOCK 变更增加消息通知
-  缺陷管理：支持增量同步第三方平台缺陷

!!! info "功能优化"
-  架构升级：微服务改造

## v2.2.1

------

2022年11月2日

!!! info "功能优化"
-  refactor(性能测试): 性能测试去掉文件上传数量的限制
-  refactor: 前端输入框Mock补全JMeter内置函数的提示

!!! info "问题修复"
-  fix(UI自动化): 解决UI并发报告部分未执行问题
-  fix(UI自动化): 解决UI报告执行时间和未执行列表问题
-  fix(测试跟踪): Jira同步经办人及项目集字段有误 (#18282)
-  fix(测试跟踪): 评审评论显示问题 (#18206)
-  fix(测试跟踪): Jira没勾选第三方模板，提交缺陷图片不显示
-  fix(测试跟踪): 用例评审ID排序显示问题
-  fix(测试跟踪): 依赖关系列表布局问题
-  fix(测试跟踪): 功能用例导出乱序问题
-  fix(测试跟踪): 优化测试计划报告查看速度
-  fix(测试跟踪): 功能用例评审状态筛选失效
-  fix(测试跟踪): 评审用例全选批量编辑筛选失效
-  fix(测试跟踪): 测试计划及用例评审依赖关系的显示问题
-  fix(测试跟踪): 修复测试计划执行场景时报告内容为空的问题
-  fix(测试跟踪): 自定义字段高级搜索结果有多条会报错
-  fix(测试跟踪): 关联Jira平台使用默认模板修改平台状态报错问题
-  fix(接口定义): 修复接口定义保存报错的缺陷 (#18258)
-  fix(接口定义): 修复case编辑页面自定义字段富文本库遮挡的缺陷
-  fix(接口定义): 修复循环控制器下场景变量csv取值不对的缺陷
-  fix(接口定义): 修复报告重置触发方式页面报错的缺陷
-  fix(接口定义): 修复导入的接口定义无法添加文件的缺陷
-  fix(接口定义): 修复文档筛选不生效的问题
-  fix(接口定义): 修复场景创建新版本，不显示创建人的缺陷
-  fix(接口定义): 修复接口定义自定义字段输入框，输入长字符保存报错的缺陷
-  fix(接口测试): get方式的mock接口，不设置任何匹配条件时，响应体为空
-  fix(接口测试): 解决接口API点击保存一键同步功能导致接口case参数无法新增和覆盖问题
-  fix(接口测试): 解决接口swagger文件导入解析错误问题以及非HTTP协议覆盖模块导入报错问题
-  fix(接口测试): 解决场景编辑-接口列表导入-切换工作空间后点击模块-模块树发生变更的问题
-  fix(接口测试): 修复场景步骤拖拽问题
-  fix(接口测试): 修改计算接口覆盖率的逻辑
-  fix(接口测试): 修复引用场景步骤能添加同级步骤问题
-  fix(接口测试): 接口定义文档的高级设置一键展开功能增加对jsonschema节点的展开
-  fix(接口测试): 修复接口测试报告中接口用例触发方式识别不出jenkins执行的问题
-  fix(接口测试): 修复接口用例按照执行状态查询时对停止状态的数据归类错误的问题
-  fix(项目设置): 文件库节点的token输入框改为密码框，token不会明文展示
-  fix(项目设置): 自定义字段使用场景筛选，缺少测试计划选项
-  fix(系统设置): 修复系统设置编辑项目设置选择接口模版不生效的缺陷 (#18253)
-  fix(系统设置): 解决只授予个人信息-ui设置权限时，个人信息弹框点不开的问题
-  fix(消息通知): 修复测试计划发送通知变量获取的问题
-  fix(性能测试): 修复在弹框中修改定时任务状态不生效的问题
-  fix(性能测试): 修复场景批量转成性能测试时重复导入的问题
-  fix(测试计划): 修复测试计划跳转场景提示场景被删除的缺陷

!!! info "漏洞修复"
-  本次升级包括修复shiro的安全漏洞，请v2.2.0版本的用户升级至此版本

## v2.2.0

------

2022年9月22日

!!! info "新增功能"
-  接口测试支持自定义模板
-  UI 测试支持自定义组合指令(X-Pack 增强包内)
-  文件管理支持对接第三方仓库(X-Pack增强包内)

!!! info "功能优化"
-  测试跟踪: 测试计划/用例评审页用例标题展示优化；
-  接口测试: 接口 CASE 高级搜索增加路径搜索；
-  接口测试: TCP 协议支持一键将 xml 文本格式转换成表格格式；
-  UI测试: 列表批量执行与测试计划执行时增加失败重试机制(X-Pack)；
-  UI测试: 测试报告支持一键分享(X-Pack)；
-  UI测试: UI 场景支持查看被引用列表(X-Pack)；
-  UI测试: 支持在配置文件中配置浏览器的默认分辨率(X-Pack)；
-  系统设置: 消息通知模板新增测试计划报告相关字段(X-Pack)；
-  通用功能: 版本筛选支持手动录入版本号(X-Pack)

!!! info "问题修复"
-  测试跟踪: 修复测试计划报告点击名称链接会直接跳转到接口用例或者场景用例详情页的问题(GitHub #17993)；
-  测试跟踪: 修复测试跟踪首页未评审“数量”、覆盖“数量”与跳转后列表用例数量不一致的问题(GitHub #17910)；
-  测试跟踪: 修复项目自定义 ID 开启导入显示的是系统默认 ID 的问题(GitHub #17928)；
-  接口测试: 修复环境变量优先级大于场景变量的问题(GitHub #17873)；
-  接口测试: 修复接口自动化编辑场景保存后，列表中“通过率”未更新的问题(GitHub #17784)；
-  UI测试: 修复 UI 自动化场景里复制导入了已有场景，导致场景以及子场景调试模式和测试计划里不会被执行的问题(GitHub #17649)；
-  UI测试: 修复测试计划中定时执行多个 UI 自动化场景，存在已执行失败的场景被标注为“未执行”的问题(GitHub #17649)；

## v2.1.0

------

2022年8月25日

!!! info "新增功能"
-  UI测试覆盖绘图核心场景
-  功能用例支持自定义字段导入、导出
-  文件管理重构

!!! info "功能优化"
-  测试跟踪：功能测试用例模板导入优化
-  接口测试：接口导入更新增加消息通知
-  接口测试：API文档展示优化支持展示高级设置
-  接口测试：场景变量支持查询以及导入导出
-  UI测试：支持任意位置添加截图步骤(X-Pack)
-  UI测试：输入步骤支持键盘功能键(X-Pack)
-  项目设置：支持二级菜单权限管控
-  项目设置：环境配置中全局变量支持查询以及导入导出
-  系统设置：OIDC和CAS认证支持配置 Callback URL

!!! info "问题修复"
-  fix(测试跟踪): 修复表格用例导入更新，提示更新成功，但是内容没有更新的问题（GitHub -  #17077）
-  fix(测试跟踪): 修复缺陷管理的高级搜索中创建人无法列出所有项目成员的问题（GitHub -  #16974）
-  fix(接口测试): 修复代码片段中导入python ssl模块在升级到2.0.1后执行出错的问题（GitHub -  #16945）
-  fix(UI测试): 修复UI自动化点击后端调试与生成报告执行结果不一致的问题（GitHub #16523）
-  fix(UI测试): 修复UI自动化场景新复制的场景无创建人信息的问题（GitHub #16732）
-  fix(项目设置): 修复消息设置新建缺陷的接收人是处理人但在消息通知时没有@处理人的问题（GitHub #16751）

## v2.0.1

------

2022年8月4日

!!! info "功能优化"
-  feat(测试跟踪): 测试计划保存的运行环境回显，并且作为当前计划下所有用例的环境的默认值
-  refactor(测试跟踪): 测试计划报告调整UI和性能的顺序
-  refactor(测试跟踪): 删除功能二次提醒弹框信息优化
-  refactor(测试跟踪): 测试计划保存的运行环境后刷新列表
-  refactor(测试跟踪): 自定义字段下拉框选项被删除则置空
-  refactor(接口测试): 改成同步发送执行指令，调整连接参数
-  refactor(测试跟踪): 优化测试计划运行检查可执行用例的方法 (#16525)
-  refactor(测试跟踪): 测试计划保存的配置信息的运行环境信息用于默认值
-  style(接口测试): 优化mock期望删除时的提示语
-  style(接口测试): 修复接口测试首页swagger跳转的问题
-  style(接口测试): 场景导入功能，页面样式调整
-  style(接口测试): 修复接口测试首页用例数量统计页签统计较慢的问题
-  style(接口测试): 修复接口测试首页未覆盖接口跳转时数据没有刷新的问题
-  style(报表统计): 优化测试用例统计图表最大化时的展示

!!! info "问题修复"
-  fix(UI自动化): UI 测试不走资源池
-  fix(UI自动化): 测试计划 UI 测试结果与总报告结果不同步
-  fix(UI自动化): 关联未执行的ui场景查看实时报告不展示测试结果数据
-  fix(UI自动化): 导出测试报告，无法查看ui用例执行结果
-  fix(UI自动化): 测试计划报告成功率显示不对
-  fix(UI自动化): 修复非性能模式下报告截图语言问题
-  fix(接口测试): 修复csv场景变量属性回显错误问题
-  fix(接口测试): 修复xmind解析不支持xmind经典版本的问题
-  fix(接口测试): 修复包含excel文件的请求执行失败问题
-  fix(接口测试): 修复接口导入ESB文件保存数据不全问题
-  fix(接口测试): 接口导入用例ID生成问题
-  fix(接口测试): 修复接口导入用例ID生成问题
-  fix(接口测试): 修复接口定义导入jmx文件选择编码，ms不显示编码的缺陷 (#16573)
-  fix(接口测试): 修复场景执行结果显示了unexecute的缺陷 (#16610)
-  fix(接口测试): 解决接口导入覆盖模式，被覆盖接口无case，新case导入失败问题
-  fix(接口测试): 修复接口测试首页定时任务跳转不对的问题
-  fix(接口测试): 优化接口导入系统内某个接口有重名用例的情况
-  fix(接口测试): 修复接口测试首页场景通过率计算不正确的问题
-  fix(接口测试): 导入接口后，手动添加一个接口用例，删除其他用例，再次导入，报错
-  fix(接口定义): 修复sql加载用例，sql脚本没有同步的缺陷 (#16483)
-  fix(接口定义): 修复除http协议TEST页面加载用例显示成了新建用例页面的缺陷
-  fix(接口定义): 修复前置sql的样式
-  fix(接口定义): 从回收站恢复接口用例增加重名校验
-  fix(系统设置): 修复用户通过api调用接口后，本身权限没有及时刷新的问题
-  fix(系统设置): 创建项目接口工作空间ID为空可成功创建
-  fix(系统设置): 修复创建项目时权限拦截的问题
-  fix(系统设置): 用户仅有项目权限时不占工作空间配额
-  fix(性能测试): 修复多节点部署时查询监控targets数据不一致的问题
-  fix(性能测试): 修复报告对比时显示多余的y轴的问题
-  fix(测试跟踪): excel导入导出报错
-  fix(测试跟踪): 脑图创建用例报错
-  fix(测试跟踪): 功能用例批量删除的问题
-  fix(测试跟踪): 功能用例导出模板没有标注
-  fix(测试跟踪): 功能用例导出缺少步骤等信息
-  fix(测试跟踪): 缺陷列表自定义多选框筛选失效
-  fix(测试跟踪): 脑图一键展开没有展开临时节点
-  fix(测试跟踪): 企业版禅道同步缺陷图片无法显示
-  fix(测试跟踪): 第三方平台缺陷部分字段同步出错
-  fix(测试跟踪): 缺陷列表自定义字段点击排序报错
-  fix(测试跟踪): 测试计划分享功能用例统计无法展示
-  fix(测试跟踪): 首页缺陷数不应该统计已关闭的缺陷
-  fix(测试跟踪): 脑图保存临时节点后，部分节点没保存成功
-  fix(测试跟踪): 用例评审中用例列表的状态与编辑的状态不一致
-  fix(测试跟踪): 修复测试计划运行检查是否有可用行用例的缺陷 (#16497)
-  fix(测试跟踪): 测试跟踪首页关联用例数量统计忽略掉回收站中的接口和场景
-  fix(测试跟踪): 关联用例删除时测试计划详情中相应用例列表的模块树显示问题
-  fix(测试跟踪): 修复接口调用没有关联可执行用例测试计划执行时没有提示的缺陷
-  fix(高级搜索): 接口自动化回收站高级搜索状态字段和列表状态不一致

## v2.0.0

------

2022年7月27日

!!! info "新增功能"
-  导航栏全新升级
-  测试计划支持关联UI测试用例执行
-  测试计划中运行的接口测试支持失败重试
-  UI测试场景支持批量执行
-  工作台-接口用例“待更新”列表，支持一键同步接口变更
-  高级搜索支持自定义字段搜索

!!! info "功能优化"
-  测试跟踪：附件功能支持上传视频文件
-  测试跟踪：功能用例支持批量关联需求
-  测试跟踪：测试计划、测试评审关联用例支持按关联需求筛选用例
-  测试跟踪：测试计划报告增加运行环境展示
-  测试跟踪：测试计划报告支持接口失败用例一键重跑（X-Pack）
-  接口测试：首页数据统计优化
-  接口测试：API导入逻辑重构
-  接口测试：测试报告增加运行环境展示
-  接口测试：支持添加场景级别断言
-  接口测试：集合报告支持失败用例一键重跑（X-Pack）
-  UI测试：页面元素支持Excel导入导出管理（X-Pack）
-  UI测试：UI场景变量优化（X-Pack）
-  UI测试：高级设置断言和数据提取展示优化（X-Pack）
-  项目设置：消息通知支持对接自定义webhook（X-Pack）
