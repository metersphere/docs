{"projectId":"ea23ea94-5e2d-425e-8446-ed293ef38a2e","version":"v1.20-a6cc1be0","data":[{"id":"115c2a1e-f557-4bd2-8ca9-d9ef596de4e5","projectId":"ea23ea94-5e2d-425e-8446-ed293ef38a2e","tags":"","userId":"tao","apiScenarioModuleId":"7710abc9-5d6d-4792-a33b-f372246def3d","modulePath":"/写入场景","name":"写入一个CPUUsage监控点数据","level":"P0","status":"Underway","principal":"tao","stepTotal":1,"schedule":null,"createTime":1653403074781,"updateTime":1653409305449,"passRate":null,"lastResult":null,"reportId":null,"num":100003,"originalState":null,"customNum":"100003","createUser":"tao","version":7,"deleteTime":null,"deleteUserId":null,"executeTimes":null,"order":15000,"environmentType":"JSON","environmentGroupId":"","versionId":"3d520850-0c7d-4738-be5b-7d8e07ee9177","refId":"115c2a1e-f557-4bd2-8ca9-d9ef596de4e5","latest":true,"scenarioDefinition":"{\"headers\":[{\"valid\":false,\"file\":false,\"enable\":true,\"name\":\"\",\"urlEncode\":false,\"value\":\"\",\"required\":true}],\"variables\":[{\"startNumber\":0,\"counterValid\":false,\"increment\":0,\"constantValid\":true,\"endNumber\":0,\"type\":\"CONSTANT\",\"quotedData\":false,\"random\":false,\"cSVValid\":false,\"delimiter\":\",\",\"name\":\"count\",\"files\":[],\"id\":\"da639016-8f1f-314e-7d16-54a971f7167a\",\"listValid\":false,\"value\":\"0\"},{\"startNumber\":0,\"counterValid\":false,\"description\":\"2022年5月24日0点时间戳，10位，使用以下命令在linux上执行获得：\\ndate -d \\\"2022-05-24 00:00:00\\\" +%s \",\"increment\":0,\"constantValid\":true,\"endNumber\":0,\"type\":\"CONSTANT\",\"quotedData\":false,\"random\":false,\"cSVValid\":false,\"delimiter\":\",\",\"name\":\"startTime\",\"files\":[],\"id\":\"67971282-0c46-e7c6-e2e7-d5099b3bef2d\",\"listValid\":false,\"value\":\"1653321600\"}],\"mockEnvironment\":false,\"active\":false,\"environmentMap\":{\"ea23ea94-5e2d-425e-8446-ed293ef38a2e\":\"f9046047-afb0-40c0-a75f-df5912fc217a\"},\"type\":\"scenario\",\"environmentEnable\":false,\"referenced\":\"Created\",\"enable\":true,\"name\":\"写入一个CPUUsage监控点数据\",\"enableCookieShare\":false,\"hashTree\":[{\"resourceId\":\"6c445b69-2480-4287-98bb-d122db9140eb\",\"refType\":\"CASE\",\"type\":\"HTTPSamplerProxy\",\"body\":{\"valid\":true,\"jsonSchema\":\"\",\"xml\":false,\"binary\":[],\"json\":false,\"kvs\":[],\"raw\":\"cpu_usage,host=10.1.13.${__threadNum},app=dataease value=${__Random(0,99,usage)} ${pointTime}000000000\",\"kV\":false,\"oldKV\":false,\"type\":\"Raw\"},\"path\":\"/write\",\"protocol\":\"HTTP\",\"enable\":true,\"followRedirects\":true,\"useEnvironment\":\"f9046047-afb0-40c0-a75f-df5912fc217a\",\"connectTimeout\":\"60000\",\"hashTree\":[{\"resourceId\":\"e717d063-27bf-4867-9ccc-78b3a8dd3288\",\"mockEnvironment\":false,\"scriptLanguage\":\"beanshell\",\"active\":true,\"index\":1,\"type\":\"JSR223PreProcessor\",\"script\":\"strCount=vars.get(\\\"count\\\");\\nlog.info(\\\"strCount=\\\"+strCount);\\nstrStartTime=vars.get(\\\"startTime\\\");\\npointTime=Integer.valueOf(strStartTime) + Integer.valueOf(strCount)*60;\\nlog.info(\\\"pointTime=\\\" + String.valueOf(pointTime));\\nvars.put(\\\"pointTime\\\", String.valueOf(pointTime));\\n\\niCount=Integer.valueOf(strCount) + 1;\\nvars.put(\\\"count\\\", String.valueOf(iCount));\",\"enable\":true,\"name\":\"JSR223PreProcessor\",\"jSR223PreProcessor\":{\"filename\":\"\",\"cacheKey\":\"\",\"scriptLanguage\":\"\",\"name\":\"JSR223PreProcessor\",\"searchableTokens\":[\"TestElement.enabled\",\"true\",\"TestElement.name\",\"JSR223PreProcessor\",\"TestElement.test_class\",\"org.apache.jmeter.modifiers.JSR223PreProcessor\",\"TestElement.gui_class\",\"org.apache.jmeter.testbeans.gui.TestBeanGUI\",\"scriptLanguage\",\"beanshell\",\"script\",\"strCount=vars.get(\\\"count\\\");\\nlog.info(\\\"strCount=\\\"+strCount);\\nstrStartTime=vars.get(\\\"startTime\\\");\\npointTime=Integer.valueOf(strStartTime) + Integer.valueOf(strCount)*60;\\nlog.info(\\\"pointTime=\\\" + String.valueOf(pointTime));\\nvars.put(\\\"pointTime\\\", String.valueOf(pointTime));\\n\\niCount=Integer.valueOf(strCount) + 1;\\nvars.put(\\\"count\\\", String.valueOf(iCount));\"],\"comment\":\"\",\"parameters\":\"\",\"enabled\":true,\"script\":\"\"},\"hashTree\":[],\"id\":\"c7a748d8-8cd5-4421-96c8-daaaf1872b15\",\"projectId\":\"ea23ea94-5e2d-425e-8446-ed293ef38a2e\",\"clazzName\":\"io.metersphere.api.dto.definition.request.processors.pre.MsJSR223PreProcessor\"},{\"jsr223\":[],\"resourceId\":\"abe96486-cd7d-4c3b-a078-97b420ec5e44\",\"mockEnvironment\":false,\"document\":{\"data\":{\"xml\":[],\"json\":[],\"xmlFollowAPI\":\"false\",\"jsonFollowAPI\":\"false\"},\"enable\":true,\"type\":\"JSON\"},\"xpath2\":[],\"active\":false,\"index\":2,\"jsonPath\":[],\"type\":\"Assertions\",\"duration\":{\"valid\":false,\"enable\":true,\"type\":\"Duration\",\"value\":0},\"regex\":[],\"scenarioAss\":false,\"enable\":true,\"id\":\"11db6f3b-d935-feea-c67a-bd3c3d8d338f\",\"projectId\":\"ea23ea94-5e2d-425e-8446-ed293ef38a2e\",\"clazzName\":\"io.metersphere.api.dto.definition.request.assertions.MsAssertions\"}],\"id\":\"7136ef2e-3428-1144-2eda-4406ded7c3b0\",\"responseTimeout\":\"60000\",\"headers\":[],\"rest\":[],\"mockEnvironment\":false,\"method\":\"POST\",\"active\":true,\"index\":1,\"url\":\"\",\"customizeReq\":false,\"referenced\":\"Copy\",\"domain\":\"http://10.1.13.12\",\"name\":\"写入虚拟机某分钟CPU使用率\",\"arguments\":[{\"valid\":true,\"file\":false,\"enable\":true,\"name\":\"db\",\"type\":\"text\",\"contentType\":\"text/plain\",\"urlEncode\":false,\"value\":\"${dbname}\",\"required\":false},{\"valid\":false,\"file\":false,\"enable\":true,\"type\":\"text\",\"contentType\":\"text/plain\",\"urlEncode\":false,\"required\":false}],\"projectId\":\"ea23ea94-5e2d-425e-8446-ed293ef38a2e\",\"clazzName\":\"io.metersphere.api.dto.definition.request.sampler.MsHTTPSamplerProxy\",\"doMultipartPost\":false}],\"id\":\"115c2a1e-f557-4bd2-8ca9-d9ef596de4e5\",\"projectId\":\"ea23ea94-5e2d-425e-8446-ed293ef38a2e\",\"clazzName\":\"io.metersphere.api.dto.definition.request.MsScenario\",\"onSampleError\":true}","description":null,"environmentJson":"{\"ea23ea94-5e2d-425e-8446-ed293ef38a2e\":\"f9046047-afb0-40c0-a75f-df5912fc217a\"}"},{"id":"ce9f181b-7eff-4779-a235-70b75761928f","projectId":"ea23ea94-5e2d-425e-8446-ed293ef38a2e","tags":"","userId":"tao","apiScenarioModuleId":"7710abc9-5d6d-4792-a33b-f372246def3d","modulePath":"/写入场景","name":"写入某虚拟机1小时每分钟CPU使用率监控","level":"P0","status":"Underway","principal":"tao","stepTotal":1,"schedule":null,"createTime":1653373657437,"updateTime":1653480751511,"passRate":null,"lastResult":null,"reportId":null,"num":100002,"originalState":null,"customNum":"100002","createUser":"tao","version":60,"deleteTime":null,"deleteUserId":null,"executeTimes":null,"order":10000,"environmentType":"JSON","environmentGroupId":"","versionId":"3d520850-0c7d-4738-be5b-7d8e07ee9177","refId":"ce9f181b-7eff-4779-a235-70b75761928f","latest":true,"scenarioDefinition":"{\"headers\":[{\"valid\":false,\"file\":false,\"enable\":true,\"name\":\"\",\"urlEncode\":false,\"value\":\"\",\"required\":true}],\"variables\":[{\"startNumber\":0,\"counterValid\":false,\"increment\":0,\"constantValid\":true,\"endNumber\":0,\"type\":\"CONSTANT\",\"quotedData\":false,\"random\":false,\"cSVValid\":false,\"delimiter\":\",\",\"name\":\"hostIP\",\"files\":[],\"id\":\"f28cb7ee-8e5d-bd69-0b20-d01537863c0d\",\"listValid\":false,\"value\":\"10.1.13.131\"},{\"startNumber\":0,\"counterValid\":false,\"description\":\"2022年5月24日0点，使用以下命令在Linux获得某天的0点的时间戳\\ndate -d \\\"2022-05-24 00:01:00\\\" +%s\",\"increment\":0,\"constantValid\":true,\"endNumber\":0,\"type\":\"CONSTANT\",\"quotedData\":false,\"random\":false,\"cSVValid\":false,\"delimiter\":\",\",\"name\":\"startTime\",\"files\":[],\"id\":\"6aaeef24-a163-0b82-7d5b-36f953770b6a\",\"listValid\":false,\"value\":\"1653148860\"},{\"startNumber\":0,\"counterValid\":true,\"description\":\"计数器，0到59\",\"increment\":1,\"constantValid\":false,\"endNumber\":59,\"type\":\"COUNTER\",\"quotedData\":false,\"random\":false,\"cSVValid\":false,\"delimiter\":\",\",\"name\":\"counter\",\"files\":[],\"id\":\"16a661da-26bf-9fdb-1bf4-5b007bce0c25\",\"listValid\":false,\"value\":\"\"},{\"startNumber\":0,\"counterValid\":false,\"increment\":0,\"constantValid\":false,\"endNumber\":0,\"type\":\"RANDOM\",\"quotedData\":false,\"random\":true,\"minNumber\":\"1\",\"maxNumber\":\"99\",\"cSVValid\":false,\"delimiter\":\",\",\"name\":\"cpuUsage\",\"files\":[],\"id\":\"460ee4a5-dcc0-e957-9bc1-e864f2908971\",\"listValid\":false}],\"mockEnvironment\":false,\"active\":false,\"environmentMap\":{\"ea23ea94-5e2d-425e-8446-ed293ef38a2e\":\"f9046047-afb0-40c0-a75f-df5912fc217a\"},\"type\":\"scenario\",\"environmentEnable\":false,\"referenced\":\"Created\",\"enable\":true,\"name\":\"写入某虚拟机1小时每分钟CPU使用率监控\",\"enableCookieShare\":false,\"hashTree\":[{\"ms_current_timer\":\"77d2d5cd-75c7-4d08-8740-6b001f6cd76d\",\"resourceId\":\"6a1329f9-0625-4c64-912a-81f5cfe4b55e\",\"mockEnvironment\":false,\"countController\":{\"proceed\":true,\"requestResult\":{},\"loops\":6,\"interval\":0},\"active\":true,\"index\":1,\"type\":\"LoopController\",\"loopType\":\"LOOP_COUNT\",\"enable\":true,\"hashTree\":[{\"resourceId\":\"0425719f-0cd7-4379-a3bd-dd8901913ae3\",\"refType\":\"CASE\",\"type\":\"HTTPSamplerProxy\",\"body\":{\"valid\":true,\"jsonSchema\":\"\",\"xml\":false,\"binary\":[],\"json\":false,\"kvs\":[],\"raw\":\"cpu_usage,host=${hostIP},app=dataease value=${cpuUsage} ${pointTime}000000000\",\"kV\":false,\"oldKV\":false,\"type\":\"Raw\"},\"path\":\"/write\",\"protocol\":\"HTTP\",\"environmentId\":\"f9046047-afb0-40c0-a75f-df5912fc217a\",\"enable\":true,\"followRedirects\":true,\"useEnvironment\":\"f9046047-afb0-40c0-a75f-df5912fc217a\",\"connectTimeout\":\"60000\",\"hashTree\":[{\"resourceId\":\"2e53704d-03b5-4702-a551-53435e2eb35e\",\"mockEnvironment\":false,\"scriptLanguage\":\"beanshell\",\"active\":true,\"index\":1,\"type\":\"JSR223PreProcessor\",\"script\":\"//获取开始时间点，2022年5月25日零点时间戳\\nstrStartTime=vars.get(\\\"startTime\\\");\\n//获取计数器值，循环一次加1\\nstrCount=vars.get(\\\"counter\\\");\\nlog.info(\\\"strCount=\\\"+strCount);\\n//获取CPU使用率随机数\\nusage=vars.get(\\\"cpuUsage\\\");\\nlog.info(\\\"usage=\\\"+usage);\\n\\nmemUsage=\\\"${__Random(1,99, memUsage)}\\\";\\nlog.info(\\\"memUsage=\\\"+memUsage);\\ncount=\\\"${__counter(True,)}\\\";\\nlog.info(\\\"count=\\\"+count);\\nstrTimeStamp=\\\"${__time}\\\";\\nlog.info(\\\"strTimeStamp=\\\"+strTimeStamp);\\nuuid=\\\"${__UUID}\\\";\\nlog.info(\\\"uuid=\\\"+uuid);\\n\\n//计算生成循环对应分钟的时间戳\\npointTime=Integer.valueOf(strStartTime) + Integer.valueOf(strCount)*60;\\nlog.info(\\\"pointTime=\\\" + String.valueOf(pointTime));\\nvars.put(\\\"pointTime\\\", String.valueOf(pointTime));\\n\",\"enable\":true,\"name\":\"JSR223PreProcessor\",\"jSR223PreProcessor\":{\"filename\":\"\",\"cacheKey\":\"\",\"scriptLanguage\":\"\",\"name\":\"JSR223PreProcessor\",\"searchableTokens\":[\"TestElement.enabled\",\"true\",\"TestElement.name\",\"JSR223PreProcessor\",\"TestElement.test_class\",\"org.apache.jmeter.modifiers.JSR223PreProcessor\",\"TestElement.gui_class\",\"org.apache.jmeter.testbeans.gui.TestBeanGUI\",\"scriptLanguage\",\"beanshell\",\"script\",\"//获取开始时间点，2022年5月25日零点时间戳\\nstrStartTime=vars.get(\\\"startTime\\\");\\n//获取计数器值，循环一次加1\\nstrCount=vars.get(\\\"counter\\\");\\nlog.info(\\\"strCount=\\\"+strCount);\\n//获取CPU使用率随机数\\nusage=vars.get(\\\"cpuUsage\\\");\\nlog.info(\\\"usage=\\\"+usage);\\n\\nmemUsage=\\\"${__Random(1,99, memUsage)}\\\";\\nlog.info(\\\"memUsage=\\\"+memUsage);\\ncount=\\\"${__counter(True,)}\\\";\\nlog.info(\\\"count=\\\"+count);\\nstrTimeStamp=\\\"${__time}\\\";\\nlog.info(\\\"strTimeStamp=\\\"+strTimeStamp);\\nuuid=\\\"${__UUID}\\\";\\nlog.info(\\\"uuid=\\\"+uuid);\\n\\n//计算生成循环对应分钟的时间戳\\npointTime=Integer.valueOf(strStartTime) + Integer.valueOf(strCount)*60;\\nlog.info(\\\"pointTime=\\\" + String.valueOf(pointTime));\\nvars.put(\\\"pointTime\\\", String.valueOf(pointTime));\\n\"],\"comment\":\"\",\"parameters\":\"\",\"enabled\":true,\"script\":\"\"},\"hashTree\":[],\"id\":\"c7a748d8-8cd5-4421-96c8-daaaf1872b15\",\"projectId\":\"ea23ea94-5e2d-425e-8446-ed293ef38a2e\",\"clazzName\":\"io.metersphere.api.dto.definition.request.processors.pre.MsJSR223PreProcessor\"},{\"jsr223\":[],\"resourceId\":\"23a1dde1-627a-4f70-a9d5-5ad31665ee1b\",\"mockEnvironment\":false,\"document\":{\"data\":{\"xml\":[],\"json\":[],\"xmlFollowAPI\":\"false\",\"jsonFollowAPI\":\"false\"},\"enable\":true,\"type\":\"JSON\"},\"xpath2\":[],\"active\":false,\"index\":2,\"jsonPath\":[],\"type\":\"Assertions\",\"duration\":{\"valid\":false,\"enable\":true,\"type\":\"Duration\",\"value\":0},\"regex\":[],\"scenarioAss\":false,\"enable\":true,\"id\":\"11db6f3b-d935-feea-c67a-bd3c3d8d338f\",\"projectId\":\"ea23ea94-5e2d-425e-8446-ed293ef38a2e\",\"clazzName\":\"io.metersphere.api.dto.definition.request.assertions.MsAssertions\"}],\"id\":\"7136ef2e-3428-1144-2eda-4406ded7c3b0\",\"responseTimeout\":\"60000\",\"headers\":[{\"valid\":false,\"file\":false,\"enable\":true,\"name\":\"\",\"urlEncode\":false,\"value\":\"\",\"required\":true}],\"rest\":[],\"mockEnvironment\":false,\"method\":\"POST\",\"active\":true,\"index\":1,\"url\":\"\",\"customizeReq\":false,\"referenced\":\"Copy\",\"domain\":\"http://10.1.13.12\",\"name\":\"写入虚拟机某分钟CPU使用率\",\"arguments\":[{\"valid\":true,\"file\":false,\"enable\":true,\"name\":\"db\",\"type\":\"text\",\"contentType\":\"text/plain\",\"urlEncode\":false,\"value\":\"${dbname}\",\"required\":false},{\"valid\":false,\"file\":false,\"enable\":true,\"type\":\"text\",\"contentType\":\"text/plain\",\"urlEncode\":false,\"required\":false}],\"projectId\":\"ea23ea94-5e2d-425e-8446-ed293ef38a2e\",\"clazzName\":\"io.metersphere.api.dto.definition.request.sampler.MsHTTPSamplerProxy\",\"doMultipartPost\":false}],\"id\":\"45c9e7d9-4837-4316-9a75-040c378fc902\",\"projectId\":\"ea23ea94-5e2d-425e-8446-ed293ef38a2e\",\"forEachController\":{\"returnVal\":\"\",\"requestResult\":{},\"inputVal\":\"\",\"interval\":\"0\"},\"clazzName\":\"io.metersphere.api.dto.definition.request.controller.MsLoopController\",\"whileController\":{\"requestResult\":{},\"variable\":\"\",\"value\":\"\",\"operator\":\"\",\"timeout\":0}}],\"id\":\"ce9f181b-7eff-4779-a235-70b75761928f\",\"projectId\":\"ea23ea94-5e2d-425e-8446-ed293ef38a2e\",\"clazzName\":\"io.metersphere.api.dto.definition.request.MsScenario\",\"onSampleError\":true}","description":null,"environmentJson":"{\"ea23ea94-5e2d-425e-8446-ed293ef38a2e\":\"f9046047-afb0-40c0-a75f-df5912fc217a\"}"}],"nodeTree":[{"id":"936429fa-79c1-4c02-8796-6be091e2cede","projectId":"ea23ea94-5e2d-425e-8446-ed293ef38a2e","name":"未规划场景","parentId":null,"level":1,"createTime":1652714179623,"updateTime":1652714179623,"pos":1,"label":"未规划场景","children":null,"caseNum":0,"path":"/未规划场景"},{"id":"7710abc9-5d6d-4792-a33b-f372246def3d","projectId":"ea23ea94-5e2d-425e-8446-ed293ef38a2e","name":"写入场景","parentId":null,"level":1,"createTime":1653373053591,"updateTime":1653373053591,"pos":65537,"label":"写入场景","children":null,"caseNum":2,"path":"/写入场景"}]}